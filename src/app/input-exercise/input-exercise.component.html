<div class="container">

  <ng-container *ngFor="let ch of testText.slice(start,end).split(''); index  as index" >
    <app-caret *ngIf="index == current"></app-caret>
  <app-input-item [ch]="ch"
                  [state]="getState(index)"></app-input-item>
  </ng-container>
</div>
